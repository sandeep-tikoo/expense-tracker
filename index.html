<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Expenses Tracker</title>
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<link rel="stylesheet" type="text/css" href="css/pickadate.css">
	<link rel="stylesheet" type="text/css" href="css/pickadate.date.css">
	<link rel="stylesheet" type="text/css" href="css/jquery.remodal.css" media="screen">
</head>
<body ng-app="expenses">
	<header class="clearfix table" ng-controller="OutputCtrl as output">
		<div class="cell left">
			<h1>Expense Tracker</h1>

		</div>
		<div class="cell right">
			<ul class="inline totals pull-right">
				<li>Gross&nbsp;<em class="pull-right addition gross">{{output.grossIncome | currency}}</em></li>
				<li>Expenses&nbsp;<em class="pull-right deduction">{{output.totalExpenses | currency}}</em></li>
				<li>Net&nbsp;<em class="pull-right net" ng-class="{addition: output.netIncome >= 0, deduction: output.netIncome < 0}">{{output.netIncome | currency}}</em></li>
			</ul>

		</div>
		<div></div>
	</header>

	<div ng-controller="ExpenseCtrl as ctrl" data-remodal-id="expenseModal" id="expenseForm" name="expenseForm" class="remodal pure-form pure-form-aligned" ng-form novalidate>
		<fieldset>
			<div class="top">
				<div class="pure-control-group">
					<label for="expenseInput">Name of expense:</label>
					<input type="text" name="expenseInput" ng-model="ctrl.expense.name" required ng-minlength="1">
				</div>
				<div class="pure-control-group">
					<label for="expenseAmount">Amount:</label>
					<input type="number" name="expenseAmount" ng-model="ctrl.expense.amount" required ng-minlength="1">
				</div>
				<div class="pure-control-group">
					<label for="expenseFrequency">Frequency:</label>
					<select name="expenseFrequency" ng-model="ctrl.expense.frequency" required>
						<option value="once">Once Off</option>
						<option value="weekly">Weekly</option>
						<option value="fortnightly">Fortnightly</option>
						<option value="monthly">Monthly</option>
						<option value="quarterly">Quarterly</option>
						<option value="yearly">Yearly</option>
					</select>
				</div>
				<div class="pure-control-group" ng-show="ctrl.expense.frequency != 'once'">
					<label for="expenseStart">Start:</label>
					<input type="text" name="expenseStart" class="pickadate" ng-model="ctrl.income.start">
				</div>
			</div>
			<div class="bottom">
				<div class="pure-control-group">
					<button class="pull-right pure-button button-secondary" ng-disabled="expenseForm.$invalid" ng-click="ctrl.addExpense(ctrl.expense)">Submit</button>
				</div>
			</div>
		</fieldset>
	</div>

	<div ng-controller="IncomeCtrl as ctrl" data-remodal-id="incomeModal" id="incomeForm" name="incomeForm" class="remodal pure-form pure-form-aligned" ng-form novalidate>
		<fieldset>
			<div class="top">
				<div class="pure-control-group">
					<label for="incomeInput">Name of income:</label>
					<input type="text" name="incomeInput" id="picker" ng-model="ctrl.income.name" required ng-minlength="1">
				</div>
				<div class="pure-control-group">
					<label for="incomeAmount">Amount:</label>
					<input type="number" name="incomeAmount" ng-model="ctrl.income.amount" required ng-minlength="1">
				</div>
				<div class="pure-control-group">
					<label for="incomeFrequency">Frequency:</label>
					<select name="incomeFrequency" ng-model="ctrl.income.frequency" required>
						<option value="once">Once Off</option>
						<option value="weekly">Weekly</option>
						<option value="fortnightly">Fortnightly</option>
						<option value="monthly">Monthly</option>
						<option value="quarterly">Quarterly</option>
						<option value="yearly">Yearly</option>
					</select>
				</div>
				<div class="pure-control-group" ng-show="ctrl.income.frequency != 'once'">
					<label for="incomeStart">Start Date:</label>
					<input type="text" name="incomeStart" class="pickadate" ng-model="ctrl.income.start">
				</div>
			</div>
			<div class="bottom">
				<div class="pure-control-group">
					<button class="pull-right pure-button button-secondary" ng-disabled="incomeForm.$invalid"  ng-click="ctrl.addIncome(ctrl.income)">Submit</button>
				</div>
			</div>
		</fieldset>
	</div>



	<div class="output" ng-controller="OutputCtrl as output">
		<ul class="expenseOutput">
			<h2>Expenses<a href="#expenseModal"><span class="pull-right"><i class="fa fa-plus"></i></span></a></h2>
			<li ng-show="output.expenses.length === 0">No expenses added yet!</li>
			<li ng-repeat="expense in output.expenses" class="expense">
				<span class="pull-right remove">
					<span ng-click="output.removeExpense(expense)">
						<i class="fa fa-times"></i>
					</span>
					<span ng-click="output.editExpense(expense)">
						<i class="fa fa-pencil"></i>
					</span>
				</span>
				{{expense.name}}<em class="pull-right deduction">-{{expense.amount | currency }}</em>
			</li>
		</ul>
		<ul class="incomeOutput">
			<h2>Income<a href="#incomeModal"><span class="pull-right"><i class="fa fa-plus"></i></span></a></h2>
			<li ng-show="output.income.length === 0">No income added yet!</li>
			<li ng-repeat="income in output.income" class="expense">
				<span class="pull-right remove">
					<span ng-click="output.removeIncome(income)">
						<i class="fa fa-times"></i>
					</span>
					<span ng-click="output.editIncome(income)">
						<i class="fa fa-pencil"></i>
					</span>
				</span>
				{{income.name}}<em class="pull-right addition">+{{income.amount | currency }}</em>
			</li>
		</ul>
		
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="js/jquery.remodal.min.js" type="text/javascript"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
	<script type="text/javascript" src="js/ngStorage.min.js"></script>
	<script type="text/javascript" src="js/pickadate.js"></script>
	<script type="text/javascript" src="js/pickadate.date.js"></script>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript" src="js/controllers.js"></script>
</body>
</html>
